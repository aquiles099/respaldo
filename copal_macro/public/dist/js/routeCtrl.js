"use strict";$(document).ready(function(){$("#dtble").DataTable({order:[[0,"desc"]]}),$("#ics_route_transport").select2(),$("#ics_route_origin_country").select2().on("select2:select",function(e){var elemento=eval("("+$(e.currentTarget).find("option:selected").attr("item")+")");icsLoadSelect(elemento.id,"#ics_route_origin_city","#ics_load_route_origin")}),$("#ics_route_origin_city").select2(),$("#ics_route_destiny_country").select2().select2().on("select2:select",function(e){var elemento=eval("("+$(e.currentTarget).find("option:selected").attr("item")+")");icsLoadSelect(elemento.id,"#ics_route_destiny_city","#ics_load_route_destiny")}),$("#ics_route_destiny_city").select2()});var icsLoadSelect=function(e,t,o){var n=window.location.origin+window.location.pathname+"/"+e+"/city";$.ajax({url:n,type:"GET",dataType:"json",data:e,beforeSend:function(){$(o).html("<i class='fa fa-spin fa-spinner'></i>")},success:function(e){Object.keys(e).length>0?icsSetDataLoadSelect(e.message,t):console.log("no hay elementos")},error:function(){log("no se ha cargado"+n)},complete:function(){$(o).html("")}})},icsSetDataLoadSelect=function(e,t){$(t).empty(),$.each(e,function(o,n){$(t).append(new Option(e[o].name,e[o].id,!0,!0))})},routeDelete=function(element,from){try{var route=getItem(element)||getItemFromParent(element),url=window.location.origin+window.location.pathname+"/"+route.id;void 0!=route&&bootbox.confirm(eval(msg(messages.delete)),function(e){e&&doForm(url,"delete",void 0,void 0===from||from)})}catch(e){log(e)}};