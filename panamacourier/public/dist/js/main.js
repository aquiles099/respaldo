"use strict";function log(a){console.log(a)}function getItem(element){try{return eval("("+element.parent().parent().parent().parent().attr("item")+")")}catch(a){return}}function getItemFromParent(element){try{return eval("("+element.parent().attr("item")+")")}catch(a){return}}function msg(a){return"`"+a+"`"}function search(){try{var a=$("#search").val().trim();void 0!==a&&""!==a&&(window.location=window.location.origin+window.location.pathname+"?search="+a)}catch(a){}}function doForm(a,e,o,t){var i=$("<form></form>");i.attr("method","post"),i.attr("action",a||"./"),i.attr("target","_self"),o=o||{},t&&(o.from=window.location.href),o._method=e||"post",$.each(o,function(a,e){var o=$("<input></input>");o.attr("type","hidden"),o.attr("name",a),o.attr("value",e),i.append(o)}),$(document.body).append(i),i.submit()}function select(a){try{$(a).find("select.pick-selected option").prop("selected",!0)}catch(a){log(a)}}$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip(),generalLoad(),setTimeout(function(){$("#alertOnProcess").slideUp(300).delay(800)},2e3),$("#rowLoad").hide(),$("#ics_select_country_register").select2(),$("#ics_select_sex").select2()});var generalLoad=function(){$("#pnlin").append("<div id = 'load' class = 'load '><p class='ics-load-onModal'><i class='fa fa-spin fa-spinner'></i> Cargando...</p><input id='reload' type='hidden' value='false'>")},submitForm=function(){$("#loadRecover").html('<i class="fa fa-spin fa-spinner"></i> Notificando a Correo...')};const AUX_PATH="/ics-app-version-2.0/public/";var details=function(a){var e,o=window.location.origin+window.location.pathname,t=0,i=!1,n=!1;if($("#pnlin").hasClass("usrtrck"))$("#load").html('<p><i class="fa fa-spin fa-spinner"></i> Cargando...</p>'),bootbox.dialog({title:"<span id='tltgnif'>Información</span>",message:$("#load").load(o+"/"+a,function(){$('[data-toggle="tooltip"]').tooltip(),$("#dtble2").DataTable({order:[[0,"desc"]]})}),size:"large",backdrop:!0,onEscape:function(){}}).on("shown.bs.modal",function(){$("#load").show()}).on("hide.bs.modal",function(a){$("#load").hide().appendTo("body"),refreshData()}).modal("show");else if($("#pnlin").hasClass("showpack"))$("#load").html('<p><i class="fa fa-spin fa-spinner"></i> Cargando...</p>'),bootbox.dialog({title:"<a href='' id='bckic' title='atrás' name =''><span class= 'pull-left glyphicon glyphicon-menu-left'></span></a><input type= 'hidden' id='swcl' value ='0'><span id='tltgnif'>Información</span>",message:$("#load").load(o+"/showpackage/"+a,function(){$('[data-toggle="tooltip"]').tooltip(),$("select").select2(),$("#dtble2").DataTable({order:[[0,"desc"]]})}),size:"large",backdrop:!0,onEscape:function(){}}).on("shown.bs.modal",function(){$("#load").show()}).on("hide.bs.modal",function(a){$("#load").hide().appendTo("body")}).modal("show"),refreshData();else if($("#pnlin").hasClass("dash")){e=o+"admin/package/"+a+"/dash";var l="Detalles";1==a&&(l="<a href='javascript:loadBackpackage("+a+")' id='bckic' title='atrás' name =''><span class= 'pull-left glyphicon glyphicon-menu-left'></span></a><input type= 'hidden' id='swcl' value ='0'><span id='tltgnif'>Recibidos en Oficina (usa)</span>"),4==a&&(l="<a href='javascript:loadBackpackage("+a+")' id='bckic' title='atrás' name =''><span class= 'pull-left glyphicon glyphicon-menu-left'></span></a><input type= 'hidden' id='swcl' value ='0'><span id='tltgnif'>Recibidos en Oficina (pa)</span>"),$("#load").html('<p><i class="fa fa-spin fa-spinner"></i> Cargando...</p>'),bootbox.dialog({title:l,message:$("#load").load(e,function(){$("#dtble").DataTable({order:[[0,"desc"]]}),$('[data-toggle="tooltip"]').tooltip(),$("#dtble2").DataTable({order:[[0,"desc"]]})}),size:"large",backdrop:!0,onEscape:function(){}}).on("shown.bs.modal",function(){$("#load").show()}).on("hide.bs.modal",function(a){$("#load").hide().appendTo("body"),refreshData()}).modal("show")}else $("#load").html('<p><i class="fa fa-spin fa-spinner"></i> Cargando...</p>'),bootbox.dialog({title:"<a href='javascript:loadBack("+i+","+a+")' id='bckic' title='atrás' name ='"+t+"'><span class= 'pull-left glyphicon glyphicon-menu-left'></span></a><input type= 'hidden' id='swcl' value ='0'><span id='tltgnif'>Información</span>",message:$("#load").load(o+"/"+a+"/read",function(){if($("#pnlin").hasClass("cp")){if($("#load").addClass("cl"),$("#pnlft").css("padding-bottom","10px"),$("#pnlft").addClass("col-md-5"),$("#load").append("<div class='col-md-1'></div><div id='cl' ><p><i class='fa fa-spin fa-spinner'></i> Cargando...</p></div><input type='hidden' id='cpldcl' value = "+a+">"),1!=a)$("#cl").load(o+"/"+a+"/clients",function(){$("#dtble2").DataTable({order:[[0,"desc"]]}),$('[data-toggle="tooltip"]').tooltip()});else{var e=window.location.origin+AUX_PATH+"/admin/user/view";$("#cl").load(e,function(){$("#dtble2").DataTable({order:[[0,"desc"]]}),$('[data-toggle="tooltip"]').tooltip()}),n=!0}$("#pnlft").append('<div class="panel-footer" id="pft"><a href="javascript:loadEditview('+t+" , "+a+')"><span class="badge" data-toggle="tooltip" title="Editar"><span class="glyphicon glyphicon-pencil"></span></span></a>&nbsp<a href="javascript:addClient(2,'+a+", "+n+')" id="adcl"><span class="badge" data-toggle="tooltip" title="Nuevo Cliente"><span class="glyphicon glyphicon-plus"></span></span></a></div>'),$("#adcl").show()}else $("#pnlft").append('<div class="panel-footer" id="pft"><a href="javascript:loadEditview('+t+" , "+a+')"><span class="badge" data-toggle="tooltip" title="Editar"><span class="glyphicon glyphicon-pencil"></span></span></a>&nbsp<a href="javascript:addClient(2,'+a+", "+n+')" id="adcl"><span class="badge" data-toggle="tooltip" title="Nuevo Cliente"><span class="glyphicon glyphicon-plus"></span></span></a></div>'),$("select").select2(),$('[data-toggle="tooltip"]').tooltip()}),size:"large",backdrop:!0,onEscape:function(){}}).on("shown.bs.modal",function(){$("#load").show()}).on("hide.bs.modal",function(a){$("#load").hide().appendTo("body"),refreshData()}).modal("show")},loadBack=function(a,e){var o=window.location.origin+window.location.pathname,t=0,i=$("#cpldcl").val(),n="undefined"!=i?"1"!=i?o+"/"+i+"/read":o+"/1/read":o+"/"+e+"/read",l="1"==i;$("#bckic").hide(),$("#tltgnif").html("Información"),$("#load").load(n,function(){$("#pnlft").append('<div class="panel-footer" id="pft"><a href="javascript:loadEditview('+t+" , "+e+')"><span class="badge" data-toggle="tooltip" title="Editar"><span class="glyphicon glyphicon-pencil"></span></span></a>&nbsp<a href="javascript:addClient(2,'+e+","+l+')" id="adcl"><span class="badge" data-toggle="tooltip" title="Nuevo Cliente"><span class="glyphicon glyphicon-plus"></span></span></a></div>'),$("#pnlin").hasClass("cp")&&($("#adcl").show(),$("#load").addClass("cl"),$("#pnlft").css("padding-bottom","10px"),$("#pnlft").addClass("col-md-5"),$("#load").append("<div class = 'col-md-1'></div><div id='cl' ><p><i class='fa fa-spin fa-spinner'></i> Cargando...</p></div><input type='hidden' id='cpldcl' value = "+i+"><input type = 'hidden' id='edtcl' value = 'false'>"),"1"==i?$("#cl").load(window.location.origin+AUX_PATH+"/admin/user/view",function(){$('[data-toggle="tooltip"]').tooltip(),$("#swcl").val("0"),"1"==$("#bckic").attr("name")?$("#load").scrollTop(540):"",$("#bckic").attr("name","0"),$("#dtble2").DataTable({order:[[0,"desc"]]})}):$("#cl").load(o+"/"+i+"/clients",function(){$('[data-toggle="tooltip"]').tooltip(),$("#swcl").val("0"),"1"==$("#bckic").attr("name")?$("#load").scrollTop(540):"",$("#bckic").attr("name","0"),$("#dtble2").DataTable({order:[[0,"desc"]]})}))}),showAlertInLoadBack(a)},loadEditview=function(a,e){var o,t,i,n=window.location.origin+window.location.pathname,l=$("#cpldcl").val(),s="false";"1"==a?(o=n+"/"+l+"/clients/"+e+"/edit",i="true",t="0",$("#swcl").val(t)):3==a?(n=window.location.origin+AUX_PATH+"/admin/user/"+e+"/viewEdit",o=n,a=3,s="false"):(o=n+"/"+e+"/edit",i="false",t="2",$("#swcl").val(t)),$("#tltgnif").html("Editar"),$("#load").load(o,function(){$("#load").removeClass("cl"),$("#pnlft").append('<div class="panel-footer" id="pft2"><span class="label label-danger pull-left" id="uplbdgr"></span><a href="javascript:saveOnEdit('+a+","+e+","+s+')"><span class="badge" data-toggle="tooltip" title="guardar"><span class="glyphicon glyphicon-ok"></span></span></a></div><input type="hidden" id="cpldcl" value = '+l+'><input type = "hidden" id="edtcl" value = "'+i+'">'),$("#bckic").show(),$("#hdprovs").css("display","none"),$("select").select2(),$('[data-toggle="tooltip"]').tooltip(),$("#dtps").datepicker({dateFormat:"yy-mm-dd"}),$("#dtpe").datepicker({dateFormat:"yy-mm-dd"})})},evalJson=function(a){$("#error").length?($("#error").html(""),$.each(a,function(e,o){$("#error").append("<li><i>"+a[e]+" : <b>("+e+")</b></i></li>")})):($("#load").append('<div class = "alert alert-danger"  id="ics-alert-danger"><b>Se Encontraron los siguientes errores: </b><button class = "close" data-dismiss = "alert"><span>&times;</span></button><ol id= "error"></ol></div>'),$.each(a,function(e,o){$("#error").append("<li><i>"+a[e]+" : <b>("+e+")</b></i></li>")}))},saveOnEdit=function(a,e,o){var t,i,n=window.location.origin+window.location.pathname,l=$("#cpldcl").val(),s=$("#token").val(),d=$("#edtcl").val(),c=$("#formSerial").serialize(),r=!1;"false"==d&&"2"==a?(i=n+"/"+l+"/clients/new",t="POST",r=!0):"true"==d&&"1"==a&&"0"==$("#swcl").val()?(i=n+"/"+l+"/clients/"+e+"/save",t="PUT",r=!0):"3"==a?1==o?(i=window.location.origin+AUX_PATH+"/admin/user/viewNew",t="POST",r=!0):(i=window.location.origin+AUX_PATH+"/admin/user/"+e+"/view",t="PATCH",r=!0):(i=n+"/"+e+"/save",t="PUT",r=!0),$.ajax({url:i,headers:{"X-CSRF-TOKEN":s},type:t,dataType:"json",data:c,success:function(a){"true"==a.message?loadBack(r,e):evalJson(a.alert)},error:function(){bootbox.alert("Ha ocurrido un error, intentelo de nuevo")}}),$("#load").append('<input type = "hidden" id="reload" value="true">')},chartType=function(a,e){function o(){var o=google.visualization.arrayToDataTable([["Tipos","Cantidad"],["Maritimo",a],["Aereo",e]]),t={title:"Tipos de paquetes recibidos del mes",pieHole:.4,is3D:!0},i=new google.visualization.PieChart(document.getElementById("donutchart"));i.draw(o,t)}google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(o)},chartNums=function(a,e,o,t,i,n){function l(){var l=google.visualization.arrayToDataTable([["Paquetes","Cantidad",{role:"style"}],["Recibidos",a,"#337ab7"],["Enviados",e,"#5cb85c"],["Transito",o,"#f0ad4e"],["Destino",t,"#189085"],["Sin Factura",i,"#d9534f"],["Entregado",n,"#003492"]]),s=new google.visualization.DataView(l);s.setColumns([0,1,{calc:"stringify",sourceColumn:1,type:"string",role:"annotation"},2]);var d={title:"Cantidad de Paquetes en Fecha Establecida",orientation:"vertical",hAxis:{format:"#",ticks:a<3?[0,0,0,0,1]:""},bar:{groupWidth:"97%"},tooltip:{isHtml:!0},legend:{position:"none"}},c=new google.visualization.BarChart(document.getElementById("barchart_values"));c.draw(s,d)}google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(l),$("#ics-breadcrumb-datePackage").html("Paquetes de "+$("#selected_date").text())},mainChart=function(a,e){function o(){var o=google.visualization.arrayToDataTable([["Task","Paquetes Con y sin Factura del mes actual"],["Con Factura",a],["Sin Factura",e]]),t={title:"Paquetes Con y sin Factura del mes",pieHole:.4,is3D:!0},i=new google.visualization.PieChart(document.getElementById("mainchart"));i.draw(o,t)}google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(o)},showDateDashboard=function(a){var e=window.location.origin+window.location.pathname,o=e+"1/day/"+a;a>2&&a<5?(3==a&&($("#load").html('<p><i class="fa fa-spin fa-spinner"></i> Cargando...</p>'),bootbox.confirm({title:"Seleccione el mes",message:"<div class='form-group'><div class='input-group'><input class='form-control' id='dtpmy' placeholder ='Seleccione el mes'><span class='input-group-addon'><i class='fa fa-calendar-o' aria-hidden='true'></i></span></div></div>",buttons:{cancel:{label:"Cancelar"},confirm:{label:"Aceptar"}},callback:function(a){if(a&&""!=$("#dtpmy").val()){var o=e+"3/month/"+$("#dtpmy").val();$.ajax({url:o,type:"GET",beforeSend:function(){$("#dateload").html('<i class="fa fa-spin fa-spinner"></i> Cargando...')},success:function(a){"true"==a.message?location.reload():bootbox.alert(a.message+a.data)},error:function(){alert("no se ha podido procesar la solicitud asíncrona")}})}}}).on("shown.bs.modal",function(a){$("#dtpmy").datepicker({dayNamesMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa"],dateFormat:"yy-mm",changeMonth:!0,changeYear:!0,showWeek:!0,monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Augosto","Septiembre","Octubre","Noviembre","Diciembre"],showButtonPanel:!0,onClose:function(a,e){var o=$("#ui-datepicker-div .ui-datepicker-month :selected").val(),t=$("#ui-datepicker-div .ui-datepicker-year :selected").val();$(this).val($.datepicker.formatDate("yy-mm",new Date(t,o,1)))},beforeShowDay:function(a){var a=a.getDay();return a>0||a<7?[!1,"somecssclass"]:[!0,"someothercssclass"]}}),$("#dtpmy").focus()})),4==a&&($("#load").html('<p><i class="fa fa-spin fa-spinner"></i> Cargando...</p>'),bootbox.confirm({title:"Seleccione el dia",message:"<div class='form-group'><div class='input-group'><input class='form-control' id='dtpm' placeholder ='Seleccione el dia'><span class='input-group-addon'><i class='fa fa-calendar' aria-hidden='true'></i></span></div></div>",buttons:{cancel:{label:"Cancelar"},confirm:{label:"Aceptar"}},callback:function(a){if(a&&""!=$("#dtpm").val()){var o=e+"4/date/"+$("#dtpm").val();$.ajax({url:o,type:"GET",beforeSend:function(){$("#dateload").html('<i class="fa fa-spin fa-spinner"></i> Cargando...')},success:function(a){"true"==a.message?location.reload():bootbox.alert("Ha ocurrido un error en el servidor")},error:function(){alert("no se ha podido procesar la solicitud asíncrona")}})}}}).on("shown.bs.modal",function(a){$("#dtpm").datepicker({dateFormat:"yy-mm-dd",showButtonPanel:!0,showWeek:!0,changeMonth:!0,changeYear:!0,dayNamesMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa"],monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Augosto","Septiembre","Octubre","Noviembre","Diciembre"]}),$("#dtpm").focus()}))):$.ajax({url:o,type:"GET",beforeSend:function(){$("#dateload").html('<i class="fa fa-spin fa-spinner"></i> Cargando...')},success:function(a){"true"==a.message?location.reload():bootbox.alert("Ha ocurrido un error en el servidor")},error:function(){alert("no se ha podido procesar la solicitud asíncrona")}})},showAlertInLoadBack=function(a){1==a&&($("#tltgnif").append('<div id="success" style="height: 45px"><div><div class = "alert alert-success"><b>procesado de manera correcta</b> <span><i class="fa fa-check-circle-o" aria-hidden="true"></i></span></div></div>'),setTimeout(function(){$("#success").slideUp(300).delay(800)},1500),$("#reload").val(a))},refreshData=function(){"true"==$("#reload").val()&&($("#pnlin").html('<i class="fa fa-spin fa-spinner"></i> Cargando...'),location.reload())},detailspackagedash=function(a){var e=window.location.origin+window.location.pathname;$("#load").html('<p><i class="fa fa-spin fa-spinner"></i> Cargando...</p>'),$("#load").load(e+"admin/package/"+a+"/receipt",function(){$("#bckic").show()})},loadBackpackage=function(a){var e=window.location.origin+window.location.pathname,o=e+"admin/package/"+a+"/dash";$("#bckic").hide(),$("#tltgnif").html("Detalles"),$("#load").html('<p><i class="fa fa-spin fa-spinner"></i> Cargando...</p>'),$("#load").load(o,function(){$("#dtble2").DataTable({order:[[0,"desc"]]})}),showAlertInLoadBack(!1)},disableElement=function(){1!=$("#check:checked").val()?$("#submitBnt").attr("disabled","disabled"):$("#submitBnt").removeAttr("disabled")};